# Mentoro — сервис для поиска менторов

![coverage](https://gitlab.prodcontest.ru/team-6/prod-backend/badges/master/coverage.svg?min_good=80&min_acceptable=70&min_medium=50) ![build](https://gitlab.prodcontest.ru/team-6/prod-backend/badges/master/pipeline.svg)

## Описание проекта

Mentoro — это платформа для поиска и взаимодействия с менторами. Проект состоит из бэкенда и Android-приложения, которые взаимодействуют через REST API. Основная цель сервиса — предоставить пользователям удобный инструмент для поиска наставников, обмена знаниями и профессионального роста.

---

## Архитектура проекта

Проект включает следующие компоненты:

### Основные компоненты бэкенда:
- **API** — REST API сервис, разработанный на **FastAPI**, обеспечивающий взаимодействие между клиентским приложением и сервером.
- **Minio** — S3-совместимое хранилище для хранения и управления изображениями.
- **Postgres** — реляционная база данных, используемая для хранения основной информации.
- **Grafana** — инструмент для визуализации метрик и мониторинга состояния системы.
- **Nginx-S3-Gateway** — реверс-прокси для Minio, поддерживающий кэширование и обеспечивающий безопасный доступ к хранилищу.
- **Nginx** — основной реверс-прокси для всего приложения, обеспечивающий HTTPS-соединение и балансировку нагрузки.

---

## Используемые технологии

- **FastAPI** — высокопроизводительный фреймворк для создания API на Python.
- **SQLAlchemy** и **Alembic** — для работы с базой данных и управления миграциями.
- **Dishka** — для реализации dependency injection, что упрощает тестирование и поддержку кода.

---

## Архитектурные принципы

Проект разработан в соответствии с принципами **чистой архитектуры** (Clean Architecture) и **SOLID**, что обеспечивает:
- Высокую модульность и масштабируемость.
- Упрощение тестирования и поддержки кода.
- Отделение бизнес-логики от инфраструктурных деталей.

---

## Тестирование

Для обеспечения качества кода используются следующие инструменты и подходы:
- **pytest** — для написания unit- и интеграционных тестов.
- **coverage.py** — для измерения покрытия кода тестами.
- **E2E-тесты** — покрывают все HTTP-эндпоинты, что позволяет убедиться в корректности работы системы в целом.

> **Примечание:** В проекте используется Gitlab CI, поэтому метрика coverage не всегда отражает реальное покрытие, особенно для E2E-тестов.

---

## CI/CD

В проекте настроен непрерывный процесс интеграции и доставки (CI/CD) с использованием **Gitlab CI**:

### CI (Continuous Integration):
- Проверка форматирования кода с помощью **ruff**.
- Проверка типизации с помощью **mypy**.
- Запуск тестов для каждого коммита.

### CD (Continuous Deployment):
- Автоматический деплой новых версий приложения, прошедших CI.
- Обновление и перезапуск контейнеров с помощью **Watchtower**.

---

## Документация

Документация API доступна по ссылке:  
[https://prod-team-6-a36eo8k0.final.prodcontest.ru/docs](https://prod-team-6-a36eo8k0.final.prodcontest.ru/docs)

---

## Преимущества проекта

1. **Масштабируемость:** Чистая архитектура и использование данного стэка позволяют легко расширять функциональность.
2. **Надежность:** Автоматизированное тестирование и CI/CD обеспечивают стабильность работы.
3. **Производительность:** Использование FastAPI и кэширования через Nginx-S3-Gateway гарантирует высокую скорость работы.
4. **Удобство:** Подробная документация API и визуализация метрик через Grafana упрощают разработку и мониторинг.

---